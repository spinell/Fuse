---
# Project
Language:      Cpp
BasedOnStyle:  Google
Standard:      c++20
ColumnLimit:   100

#########################################################
# Indentation
#########################################################
AccessModifierOffset: -4
#BitFieldColonSpacing: Both
ContinuationIndentWidth: 2
IndentCaseLabels: true
IndentCaseBlocks: false
IndentExternBlock: Indent
IndentPPDirectives: None
IndentWidth: 4
IndentWrappedFunctionNames: false
#TabWidth: 4
UseTab: Never

#########################################################
# Alignment
#########################################################
AlignConsecutiveAssignments:  true    # This will align the assignment operators of consecutive lines.
AlignConsecutiveDeclarations: true    # This will align the declaration names of consecutive lines.
AlignAfterOpenBracket: Align
#AlignConsecutiveBitFields: Consecutive
#AlignConsecutiveMacros: Consecutive
AlignEscapedNewlines: Left
#AlignOperands: Align
#AlignTrailingComments: true

#########################################################
# Allow
#########################################################
AllowAllArgumentsOnNextLine: false
#AllowAllConstructorInitializersOnNextLine: false
#AllowAllParametersOfDeclarationOnNextLine: false
AllowShortBlocksOnASingleLine: Never
#AllowShortCaseLabelsOnASingleLine: false
#AllowShortEnumsOnASingleLine: false
#AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
#AllowShortLoopsOnASingleLine: false
#AllowShortLambdasOnASingleLine: All

#########################################################
# Break
#########################################################
#AlwaysBreakAfterReturnType: None
#AlwaysBreakBeforeMultilineStrings: true
#AlwaysBreakTemplateDeclarations: Yes
#BreakBeforeConceptDeclarations: true
#BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeComma
#BreakBeforeBinaryOperators: None
#BreakInheritanceList: AfterColon
#BreakStringLiterals: true


#########################################################
# Initializers & arguments
#########################################################
BinPackArguments: false
BinPackParameters: true
PackConstructorInitializers: Never
#ConstructorInitializerIndentWidth: 4
Cpp11BracedListStyle: true

#########################################################
# Braces
#########################################################
BreakBeforeBraces: Attach
InsertBraces:    true

#########################################################
# Namespaces
#########################################################
CompactNamespaces: true  # consecutive namespace declarations will be on the same line
FixNamespaceComments: true
NamespaceIndentation: None

#########################################################
# Empty lines
#########################################################
KeepEmptyLines:
  AtEndOfFile: true
  AtStartOfBlock: true
  AtStartOfFile: false
EmptyLineBeforeAccessModifier: Always
MaxEmptyLinesToKeep: 2
SeparateDefinitionBlocks: Leave

#########################################################
# Penalties
#########################################################
#PenaltyBreakAssignment: 1000
#PenaltyBreakBeforeFirstCallParameter: 1000
#PenaltyBreakComment: 200
#PenaltyBreakFirstLessLess: 100
#PenaltyBreakOpenParenthesis: 1000
#PenaltyBreakString: 1
#PenaltyBreakTemplateDeclaration: 0
#PenaltyExcessCharacter: 5
#PenaltyIndentedWhitespace: 1
#PenaltyReturnTypeOnItsOwnLine: 500

#########################################################
# Pointer alignment
#########################################################
PointerAlignment: Left

#########################################################
# Comments
#########################################################
# With clang-format 19: it a bool
# With clang-format 20: it Never,IndentOnly,Always
ReflowComments: false

#########################################################
# Spaces
#########################################################
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: true
SpaceAroundPointerQualifiers: Default
SpaceBeforeAssignmentOperators: true
SpaceBeforeCaseColon: false
SpaceBeforeCpp11BracedList: false
SpaceBeforeCtorInitializerColon: true
SpaceBeforeInheritanceColon: true
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: true
SpaceBeforeSquareBrackets: false
SpaceInEmptyBlock: false
SpacesBeforeTrailingComments: 1
SpacesInAngles: false
SpacesInConditionalStatement: false
SpacesInContainerLiterals: false
SpacesInSquareBrackets: false
#SpacesInParensOptions

#########################################################
# Qualifiers (const, volatile, static, etc)
#########################################################
QualifierAlignment: Custom
QualifierOrder: ['static', 'inline', 'constexpr', 'const', 'volatile', 'type']

#########################################################
# Sorting
#
# main header
#  space
# header "a.h"
# header "aa/a.h"
# space
# Fuse header
# space
# header with <a.h>
# header with <a/a.h>
# space
# header with <gtest|gmock>
# space
# header with <a>
#########################################################
SortIncludes: CaseInsensitive
IncludeBlocks: Regroup
IncludeCategories:
  - Regex        : '^<Fuse.*'
    Priority     : 2
    # <gtest/ "gtest/ <gmock/ "gmock/
  - Regex        : '^((<|")imgui*)'
    Priority     : 5
  - Regex        : '^((<|")(gtest|gmock)/)'
    Priority     : 5
    # system headers
  - Regex         : '<[[:alnum:].]+>'
    Priority      :    10
  - Regex        : '^<.*/'
    Priority     : 3
  - Regex         : '.*'
    # Others
    Priority      : 1
    SortPriority  : 0
    CaseSensitive : false

IncludeIsMainRegex: '(Test)?$'
IncludeIsMainSourceRegex: ''

#########################################################
# Line endings
#########################################################
#UseCRLF: false # deprecated
LineEnding: LF
InsertNewlineAtEOF: true

...
